<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Spatial predictions from individual and ensemble models — sdm_predict • flexsdm</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Spatial predictions from individual and ensemble models — sdm_predict"><meta name="description" content="This function allows the geographical prediction of one or more models constructed
with the fit_ or tune_ function set, models fitted with esm_ function set (i.e., ensemble of
small models approach), or models constructed with fit_ensemble function. It can return
continuous or continuous and binary predictions for one or more thresholds"><meta property="og:description" content="This function allows the geographical prediction of one or more models constructed
with the fit_ or tune_ function set, models fitted with esm_ function set (i.e., ensemble of
small models approach), or models constructed with fit_ensemble function. It can return
continuous or continuous and binary predictions for one or more thresholds"><meta name="google-site-verification" content="gcou8tqRTwNjZ_Mf1kbFgAzzUcY3OF-JB2sPRPTA56I"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">flexsdm</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.8</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Home"><span class="fa fa-home"></span> Home</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/v01_pre_modeling.html">1. Overview of Pre-modeling functions</a></li>
    <li><a class="dropdown-item" href="../articles/v02_modeling.html">2. Overview of Modeling functions</a></li>
    <li><a class="dropdown-item" href="../articles/v03_post_modeling.html">3. Overview of Post-modeling functions</a></li>
    <li><a class="dropdown-item" href="../articles/v04_Red_fir_example.html">4. An example with Red Fir</a></li>
    <li><a class="dropdown-item" href="../articles/v05_Rare_species_example.html">5. Modeling a rare species</a></li>
    <li><a class="dropdown-item" href="../articles/v06_Extrapolation_example.html">6. Tools to explore extrapolation in SDMs</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/pkg_citation.html">Citations</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../articles/pkg_citation.html">Citations</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html"><span class="fa fa-newspaper-o"></span> News</a></li>
<li class="nav-item"><a class="nav-link" href="https://sjevelazco.github.io/flexsdm" aria-label="GitHub">GitHub</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sjevelazco/flexsdm/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Spatial predictions from individual and ensemble models</h1>
      <small class="dont-index">Source: <a href="https://github.com/sjevelazco/flexsdm/blob/HEAD/R/sdm_predict.R" class="external-link"><code>R/sdm_predict.R</code></a></small>
      <div class="d-none name"><code>sdm_predict.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function allows the geographical prediction of one or more models constructed
with the fit_ or tune_ function set, models fitted with esm_ function set (i.e., ensemble of
small models approach), or models constructed with fit_ensemble function. It can return
continuous or continuous and binary predictions for one or more thresholds</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sdm_predict</span><span class="op">(</span></span>
<span>  <span class="va">models</span>,</span>
<span>  <span class="va">pred</span>,</span>
<span>  nchunk <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  thr <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  con_thr <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  predict_area <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  clamp <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  pred_type <span class="op">=</span> <span class="st">"cloglog"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-models">models<a class="anchor" aria-label="anchor" href="#arg-models"></a></dt>
<dd><p>list of one or more models fitted with fit_ or tune_ functions. In case use models fitted with fit_ensemble or esm_ family function only one model could be used. Usage models = mglm or models = list(mglm, mraf, mgbm)</p></dd>


<dt id="arg-pred">pred<a class="anchor" aria-label="anchor" href="#arg-pred"></a></dt>
<dd><p>SpatRaster. Raster layer with predictor variables. Names of layers must exactly
match those used in model fitting.</p></dd>


<dt id="arg-nchunk">nchunk<a class="anchor" aria-label="anchor" href="#arg-nchunk"></a></dt>
<dd><p>integer. Number of chunks to split data used to predict models (i.e., SpatRaster
used in pred argument). Predicting models in chunks helps reduce memory requirements in cases
where models are predicted for large scales and high resolution. Default = 1</p></dd>


<dt id="arg-thr">thr<a class="anchor" aria-label="anchor" href="#arg-thr"></a></dt>
<dd><p>character. Threshold used to get binary suitability values (i.e., 0,1). It is possible
to use more than one threshold type. It is mandatory to use the same threshold/s used to fit the
models. The following threshold types are available:</p><ul><li><p>lpt: The highest threshold at which there is no omission.</p></li>
<li><p>equal_sens_spec: Threshold at which the sensitivity and specificity are equal.</p></li>
<li><p>max_sens_spec: Threshold at which the sum of the sensitivity and specificity is the
  highest (aka threshold that maximizes the TSS).</p></li>
<li><p>max_jaccard: The threshold at which the Jaccard index is the highest.</p></li>
<li><p>max_sorensen: The threshold at which the Sorensen index is highest.</p></li>
<li><p>max_fpb: The threshold at which FPB is highest.</p></li>
<li><p>sensitivity: Threshold based on a specified sensitivity value used to fit the models.</p></li>
<li><p>all: All the threshold used in the model outputs used in 'models' argument will be used.</p></li>
</ul><p>Usage thr = c('lpt', 'max_sens_spec', 'max_jaccard'), thr=c('lpt', 'max_sens_spec',
'sensitivity'), or thr='all'. If no threshold is specified (i.e., thr = NULL) function
will return continuous prediction only. Default NULL</p></dd>


<dt id="arg-con-thr">con_thr<a class="anchor" aria-label="anchor" href="#arg-con-thr"></a></dt>
<dd><p>logical. If true predictions with suitability values above threshold/s will be
returned. Default = FALSE</p></dd>


<dt id="arg-predict-area">predict_area<a class="anchor" aria-label="anchor" href="#arg-predict-area"></a></dt>
<dd><p>SpatVector, SpatialPolygon, or SpatialPolygonDataFrame. Spatial polygon
used for restring prediction into only a given region. Default = NULL</p></dd>


<dt id="arg-clamp">clamp<a class="anchor" aria-label="anchor" href="#arg-clamp"></a></dt>
<dd><p>logical. It is set with TRUE, predictors and features are restricted to the range
seen during model training. Only valid for Maxent model (see tune_mx and fit_mx). Default TRUE.</p></dd>


<dt id="arg-pred-type">pred_type<a class="anchor" aria-label="anchor" href="#arg-pred-type"></a></dt>
<dd><p>character. Type of response required available "link", "exponential",
"cloglog" and "logistic". Only valid for Maxent model (see tune_mx and fit_mx).
Default "cloglog".</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of SpatRaster with continuous and/or binary predictions</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="fit_ensemble.html">fit_ensemble</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"spp"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">somevar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"external/somevar.tif"</span>, package <span class="op">=</span> <span class="st">"flexsdm"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">somevar</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="va">somevar</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Extract data</span></span></span>
<span class="r-in"><span><span class="va">some_sp</span> <span class="op">&lt;-</span> <span class="va">spp</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">species</span> <span class="op">==</span> <span class="st">"sp3"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">some_sp</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="sdm_extract.html">sdm_extract</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    data <span class="op">=</span> <span class="va">some_sp</span>,</span></span>
<span class="r-in"><span>    x <span class="op">=</span> <span class="st">"x"</span>,</span></span>
<span class="r-in"><span>    y <span class="op">=</span> <span class="st">"y"</span>,</span></span>
<span class="r-in"><span>    env_layer <span class="op">=</span> <span class="va">somevar</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Partition</span></span></span>
<span class="r-in"><span><span class="va">some_sp</span> <span class="op">&lt;-</span> <span class="fu"><a href="part_random.html">part_random</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">some_sp</span>,</span></span>
<span class="r-in"><span>  pr_ab <span class="op">=</span> <span class="st">"pr_ab"</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"rep_kfold"</span>, folds <span class="op">=</span> <span class="fl">3</span>, replicates <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## %######################################################%##</span></span></span>
<span class="r-in"><span><span class="co">#                                                          #</span></span></span>
<span class="r-in"><span><span class="co">####          Create different type of models           ####</span></span></span>
<span class="r-in"><span><span class="co">#                                                          #</span></span></span>
<span class="r-in"><span><span class="co">## %######################################################%##</span></span></span>
<span class="r-in"><span><span class="co"># Fit some models</span></span></span>
<span class="r-in"><span><span class="va">mglm</span> <span class="op">&lt;-</span> <span class="fu"><a href="fit_glm.html">fit_glm</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">some_sp</span>,</span></span>
<span class="r-in"><span>  response <span class="op">=</span> <span class="st">"pr_ab"</span>,</span></span>
<span class="r-in"><span>  predictors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CFP_1"</span>, <span class="st">"CFP_2"</span>, <span class="st">"CFP_3"</span>, <span class="st">"CFP_4"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  partition <span class="op">=</span> <span class="st">".part"</span>,</span></span>
<span class="r-in"><span>  poly <span class="op">=</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mraf</span> <span class="op">&lt;-</span> <span class="fu"><a href="fit_raf.html">fit_raf</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">some_sp</span>,</span></span>
<span class="r-in"><span>  response <span class="op">=</span> <span class="st">"pr_ab"</span>,</span></span>
<span class="r-in"><span>  predictors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CFP_1"</span>, <span class="st">"CFP_2"</span>, <span class="st">"CFP_3"</span>, <span class="st">"CFP_4"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  partition <span class="op">=</span> <span class="st">".part"</span>,</span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mgbm</span> <span class="op">&lt;-</span> <span class="fu"><a href="fit_gbm.html">fit_gbm</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">some_sp</span>,</span></span>
<span class="r-in"><span>  response <span class="op">=</span> <span class="st">"pr_ab"</span>,</span></span>
<span class="r-in"><span>  predictors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CFP_1"</span>, <span class="st">"CFP_2"</span>, <span class="st">"CFP_3"</span>, <span class="st">"CFP_4"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  partition <span class="op">=</span> <span class="st">".part"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Fit an ensemble model</span></span></span>
<span class="r-in"><span><span class="va">mensemble</span> <span class="op">&lt;-</span> <span class="fu"><a href="fit_ensemble.html">fit_ensemble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  models <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">mglm</span>, <span class="va">mraf</span>, <span class="va">mgbm</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  ens_method <span class="op">=</span> <span class="st">"meansup"</span>,</span></span>
<span class="r-in"><span>  thr <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>  thr_model <span class="op">=</span> <span class="st">"max_sens_spec"</span>,</span></span>
<span class="r-in"><span>  metric <span class="op">=</span> <span class="st">"TSS"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Fit a model with the Ensembles of Small Models approach</span></span></span>
<span class="r-in"><span><span class="co"># Without threshold specification and with kfold</span></span></span>
<span class="r-in"><span><span class="va">msmall</span> <span class="op">&lt;-</span> <span class="fu"><a href="esm_gam.html">esm_gam</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">some_sp</span>,</span></span>
<span class="r-in"><span>  response <span class="op">=</span> <span class="st">"pr_ab"</span>,</span></span>
<span class="r-in"><span>  predictors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CFP_1"</span>, <span class="st">"CFP_2"</span>, <span class="st">"CFP_3"</span>, <span class="st">"CFP_4"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  partition <span class="op">=</span> <span class="st">".part"</span>,</span></span>
<span class="r-in"><span>  thr <span class="op">=</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## %######################################################%##</span></span></span>
<span class="r-in"><span><span class="co">#                                                           #</span></span></span>
<span class="r-in"><span><span class="co">####      Predict different kind of models               ####</span></span></span>
<span class="r-in"><span><span class="co">#                                                           #</span></span></span>
<span class="r-in"><span><span class="co">## %######################################################%##</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># sdm_predict can be used for predict one or more models fitted with fit_ or tune_ functions</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># a single model</span></span></span>
<span class="r-in"><span><span class="va">ind_p</span> <span class="op">&lt;-</span> <span class="fu">sdm_predict</span><span class="op">(</span></span></span>
<span class="r-in"><span>  models <span class="op">=</span> <span class="va">mglm</span>,</span></span>
<span class="r-in"><span>  pred <span class="op">=</span> <span class="va">somevar</span>,</span></span>
<span class="r-in"><span>  thr <span class="op">=</span> <span class="st">"max_fpb"</span>,</span></span>
<span class="r-in"><span>  con_thr <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  predict_area <span class="op">=</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># a list of models</span></span></span>
<span class="r-in"><span><span class="va">list_p</span> <span class="op">&lt;-</span> <span class="fu">sdm_predict</span><span class="op">(</span></span></span>
<span class="r-in"><span>  models <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">mglm</span>, <span class="va">mraf</span>, <span class="va">mgbm</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  pred <span class="op">=</span> <span class="va">somevar</span>,</span></span>
<span class="r-in"><span>  thr <span class="op">=</span> <span class="st">"max_fpb"</span>,</span></span>
<span class="r-in"><span>  con_thr <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  predict_area <span class="op">=</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Predict an ensemble model</span></span></span>
<span class="r-in"><span><span class="co"># (only is possilbe use one fit_ensemble)</span></span></span>
<span class="r-in"><span><span class="va">ensemble_p</span> <span class="op">&lt;-</span> <span class="fu">sdm_predict</span><span class="op">(</span></span></span>
<span class="r-in"><span>  models <span class="op">=</span> <span class="va">mensemble</span>,</span></span>
<span class="r-in"><span>  pred <span class="op">=</span> <span class="va">somevar</span>,</span></span>
<span class="r-in"><span>  thr <span class="op">=</span> <span class="st">"max_fpb"</span>,</span></span>
<span class="r-in"><span>  con_thr <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  predict_area <span class="op">=</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Predict an ensemble of small models</span></span></span>
<span class="r-in"><span><span class="co"># (only is possible to use one ensemble of small models)</span></span></span>
<span class="r-in"><span><span class="va">small_p</span> <span class="op">&lt;-</span> <span class="fu">sdm_predict</span><span class="op">(</span></span></span>
<span class="r-in"><span>  models <span class="op">=</span> <span class="va">msmall</span>,</span></span>
<span class="r-in"><span>  pred <span class="op">=</span> <span class="va">somevar</span>,</span></span>
<span class="r-in"><span>  thr <span class="op">=</span> <span class="st">"max_fpb"</span>,</span></span>
<span class="r-in"><span>  con_thr <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  predict_area <span class="op">=</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## %######################################################%##</span></span></span>
<span class="r-in"><span><span class="co">#                                                          #</span></span></span>
<span class="r-in"><span><span class="co">####              Predict model using chunks            ####</span></span></span>
<span class="r-in"><span><span class="co">#                                                          #</span></span></span>
<span class="r-in"><span><span class="co">## %######################################################%##</span></span></span>
<span class="r-in"><span><span class="co"># Predicting models in chunks helps reduce memory requirements in</span></span></span>
<span class="r-in"><span><span class="co"># cases where models are predicted for large scales and high resolution</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ind_p</span> <span class="op">&lt;-</span> <span class="fu">sdm_predict</span><span class="op">(</span></span></span>
<span class="r-in"><span>  models <span class="op">=</span> <span class="va">mglm</span>,</span></span>
<span class="r-in"><span>  pred <span class="op">=</span> <span class="va">somevar</span>,</span></span>
<span class="r-in"><span>  thr <span class="op">=</span> <span class="st">"max_fpb"</span>,</span></span>
<span class="r-in"><span>  con_thr <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  predict_area <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>  nchunk <span class="op">=</span> <span class="fl">4</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Santiago J.E. Velazco, Brooke Rose, André F.A. Andrade, Ignacio Minoli, Janet Franklin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

